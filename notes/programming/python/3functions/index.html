<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="My notes on things."><link href=http://joeyhejna.com/notes/programming/python/3functions/ rel=canonical><meta name=author content="Joey Hejna"><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.0.4, mkdocs-material-4.4.1"><title>3. Functions - Notes</title><link rel=stylesheet href=../../../assets/stylesheets/application.30686662.css><link rel=stylesheet href=../../../assets/stylesheets/application-palette.a8b3c06d.css><meta name=theme-color content=#3f51b5><script src=../../../assets/javascripts/modernizr.74668098.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../../../assets/fonts/material-icons.css></head> <body dir=ltr data-md-color-primary=indigo data-md-color-accent=light-blue> <svg class=md-svg> <defs> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#3-functions tabindex=1 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=http://joeyhejna.com/notes title=Notes class="md-header-nav__button md-logo"> <i class=md-icon>code</i> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> Notes </span> <span class=md-header-nav__topic> 3. Functions </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search></label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=query data-md-state=active> <label class="md-icon md-search__icon" for=__search></label> <button type=reset class="md-icon md-search__icon" data-md-component=reset tabindex=-1> &#xE5CD; </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=result> <div class=md-search-result__meta> Type to start searching </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container> <nav class="md-tabs md-tabs--active" data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. title=Home class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../cs70/ title=Cs70 class=md-tabs__link> Cs70 </a> </li> <li class=md-tabs__item> <a href=../ title=Programming class="md-tabs__link md-tabs__link--active"> Programming </a> </li> </ul> </div> </nav> <main class=md-main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=http://joeyhejna.com/notes title=Notes class="md-nav__button md-logo"> <i class=md-icon>code</i> </a> Notes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. title=Home class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> Cs70 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-2> Cs70 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../cs70/ title="CS 70" class=md-nav__link> CS 70 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3 type=checkbox id=nav-3 checked> <label class=md-nav__link for=nav-3> Programming </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-3> Programming </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3-1 type=checkbox id=nav-3-1 checked> <label class=md-nav__link for=nav-3-1> Python </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-3-1> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ title="0. About Python" class=md-nav__link> 0. About Python </a> </li> <li class=md-nav__item> <a href=../1objectmodel/ title="1. The Object Model" class=md-nav__link> 1. The Object Model </a> </li> <li class=md-nav__item> <a href=../2syntax/ title="2. Syntax" class=md-nav__link> 2. Syntax </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-toggle md-nav__toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> 3. Functions </label> <a href=./ title="3. Functions" class="md-nav__link md-nav__link--active"> 3. Functions </a> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#args-and-kwargs title="*args and **kwargs" class=md-nav__link> *args and **kwargs </a> </li> <li class=md-nav__item> <a href=#return title=Return class=md-nav__link> Return </a> </li> <li class=md-nav__item> <a href=#typing title=Typing class=md-nav__link> Typing </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#type-aliases title="Type Aliases" class=md-nav__link> Type Aliases </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#decorators title=Decorators class=md-nav__link> Decorators </a> </li> <li class=md-nav__item> <a href=#function-caching title="Function Caching" class=md-nav__link> Function Caching </a> </li> <li class=md-nav__item> <a href=#lambdas title=Lambdas class=md-nav__link> Lambdas </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../4datastructures/ title="3. Data Structures" class=md-nav__link> 3. Data Structures </a> </li> <li class=md-nav__item> <a href=../5oop/ title="5. Object Oriented Programming" class=md-nav__link> 5. Object Oriented Programming </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#args-and-kwargs title="*args and **kwargs" class=md-nav__link> *args and **kwargs </a> </li> <li class=md-nav__item> <a href=#return title=Return class=md-nav__link> Return </a> </li> <li class=md-nav__item> <a href=#typing title=Typing class=md-nav__link> Typing </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#type-aliases title="Type Aliases" class=md-nav__link> Type Aliases </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#decorators title=Decorators class=md-nav__link> Decorators </a> </li> <li class=md-nav__item> <a href=#function-caching title="Function Caching" class=md-nav__link> Function Caching </a> </li> <li class=md-nav__item> <a href=#lambdas title=Lambdas class=md-nav__link> Lambdas </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1 id=3-functions>3. Functions<a class=headerlink href=#3-functions title="Permanent link">&para;</a></h1> <p>In python, all functions are actually just objects. Thus as a result, they can be passed as parameters just as any other type, stor__ed in other objects/data structures, or assinged to variables. This makes using functions in Python extremely versetile. </p> <p>Functions are made callable as they define the special <code class=codehilite><span class=n>__call__</span></code> method. Any object that implements this method will become callable itself.</p> <h2 id=args-and-kwargs>*args and **kwargs<a class=headerlink href=#args-and-kwargs title="Permanent link">&para;</a></h2> <p>The <code class=codehilite><span class=o>*</span></code> operator in python is often overlooked, but can be extremely useful. It unpacks an iterable and essentially replaces it with a comma seperated list of its content inline. This can be seen in the following example.</p> <p><div class=codehilite><pre><span></span><span class=o>&gt;&gt;&gt;</span> <span class=nb>int</span><span class=p>.</span><span class=n>__eq__</span><span class=p>(</span><span class=o>*</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>])</span>
<span class=k>False</span>
</pre></div> <code class=codehilite><span class=nb>int</span><span class=p>.</span><span class=n>__eq__</span></code> is the implementation of the binary equality function between integer objects, and thus accepts two integers. The <code class=codehilite><span class=o>*</span></code> unpacks the arguments so the line is equivalent to <code class=codehilite><span class=nb>int</span><span class=p>.</span><span class=n>__eq__</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span></code>.</p> <p><code class=codehilite><span class=o>*</span><span class=n>args</span></code> allows you to pass a variable number of arguments to a python function. For example, let's write an add function that accepts any number of objects to add. <div class=codehilite><pre><span></span><span class=o>&gt;&gt;&gt;</span> <span class=nv>def</span> <span class=nv>add</span><span class=ss>(</span><span class=o>*</span><span class=nv>args</span><span class=ss>)</span>:
...     <span class=nv>total</span> <span class=o>=</span> <span class=mi>0</span>
...     <span class=k>for</span> <span class=nv>arg</span> <span class=nv>in</span> <span class=nv>args</span>:
...         <span class=nv>total</span> <span class=o>+=</span> <span class=nv>arg</span>
...     <span class=k>return</span> <span class=nv>total</span> 
<span class=o>&gt;&gt;&gt;</span> <span class=nv>add</span><span class=ss>(</span><span class=mi>1</span>, <span class=mi>4</span>, <span class=o>-</span><span class=mi>1</span>, <span class=mi>7</span><span class=ss>)</span>
<span class=mi>11</span>
</pre></div> **kwargs unpacks keyword arguments. It is given in the form of a dictionary of string keys mapping from the name of the keyword argument to it's value. Here's an example to demonstrate this. <div class=codehilite><pre><span></span><span class=o>&gt;&gt;&gt;</span> <span class=nv>def</span> <span class=nv>print_kwargs</span><span class=ss>(</span><span class=o>**</span><span class=nv>kwargs</span><span class=ss>)</span>:
...     <span class=k>for</span> <span class=nv>arg_name</span>, <span class=nv>arg_val</span> <span class=nv>in</span> <span class=nv>kwargs</span>.<span class=nv>items</span><span class=ss>()</span>:
...         <span class=nv>print</span><span class=ss>(</span><span class=nv>arg_name</span>, <span class=nv>arg_val</span><span class=ss>)</span>
... 
<span class=o>&gt;&gt;&gt;</span> <span class=nv>print_kwargs</span><span class=ss>(</span><span class=nv>a</span><span class=o>=</span><span class=mi>10</span>, <span class=nv>b</span><span class=o>=</span><span class=mi>2</span><span class=ss>)</span>
<span class=nv>a</span> <span class=mi>10</span>
<span class=nv>b</span> <span class=mi>2</span>
</pre></div></p> <p>If you are using <code class=codehilite><span class=o>*</span><span class=n>args</span></code> and <code class=codehilite><span class=o>**</span><span class=n>kwargs</span></code>, required parameters must be specified first followed by <code class=codehilite><span class=n>args</span></code> then <code class=codehilite><span class=n>kwargs</span></code>: <code class=codehilite><span class=n>def</span> <span class=n>fn</span><span class=p>(</span><span class=n>req_arg1</span><span class=p>,</span> <span class=n>req_arg2</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span></code> </p> <p>You can use unpacking to call any function as well. Let's say we have a function with the following header: <code class=codehilite><span class=n>def</span> <span class=n>fn</span><span class=p>(</span><span class=n>a1</span><span class=p>,</span> <span class=n>a2</span><span class=p>,</span> <span class=n>kw1</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>kw2</span><span class=o>=</span><span class=k>True</span><span class=p>,</span> <span class=n>kw3</span><span class=o>=</span><span class=p>[])</span></code>. We could define the variables <code class=codehilite><span class=n>args</span> <span class=o>=</span> <span class=p>(</span><span class=ss>&quot;a1&quot;</span><span class=p>,</span> <span class=ss>&quot;a2&quot;</span><span class=p>)</span></code> and <code class=codehilite><span class=n>kwargs</span> <span class=o>=</span> <span class=err>{</span><span class=ss>&quot;kw1&quot;</span> <span class=p>:</span> <span class=mi>0</span><span class=err>}</span></code>, then call <code class=codehilite><span class=n>fn</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span></code>.</p> <h2 id=return>Return<a class=headerlink href=#return title="Permanent link">&para;</a></h2> <p>By default, Python functions that don't explicitly return a value will return the <code class=codehilite><span class=k>None</span></code> object.</p> <p>Additionally, when returning multiple values, they are implicitly wrapped in a tuple that you can use as a tuple, or implicitly unpack. <div class=codehilite><pre><span></span><span class=o>&gt;&gt;&gt;</span> <span class=nv>def</span> <span class=nv>fn</span><span class=ss>()</span>: <span class=k>return</span> <span class=mi>0</span>, <span class=mi>1</span>
... 
<span class=o>&gt;&gt;&gt;</span> <span class=nv>fn</span><span class=ss>()</span>
<span class=ss>(</span><span class=mi>0</span>, <span class=mi>1</span><span class=ss>)</span>
<span class=o>&gt;&gt;&gt;</span> <span class=nv>a</span>, <span class=nv>b</span> <span class=o>=</span> <span class=nv>fn</span><span class=ss>()</span>
<span class=o>&gt;&gt;&gt;</span> <span class=nv>print</span><span class=ss>(</span><span class=nv>a</span>, <span class=nv>b</span><span class=ss>)</span>
<span class=mi>0</span> <span class=mi>1</span>
</pre></div></p> <h2 id=typing>Typing<a class=headerlink href=#typing title="Permanent link">&para;</a></h2> <p>Python 3.5 adding the <code class=codehilite><span class=n>typing</span></code> module that allows for type hinting within functions. You can read the full documentation <a href=https://docs.python.org/3/library/typing.html>here</a>. The typing module will perform checks on function arguments are return types to verify that they are behaving as desired. High quality code can leverage typing to improve readability and correctness.</p> <p>Within function signatures, a colon <code class=codehilite><span class=p>:</span></code> following an argument indicuates its expected type and a an arrow <code class=codehilite><span class=o>-&gt;</span></code> after the parenthetical indicates the expected return type. <div class=codehilite><pre><span></span><span class=nv>def</span> <span class=nv>append_and_return</span><span class=ss>(</span><span class=nv>items</span>: <span class=nv>list</span>, <span class=nv>item</span> : <span class=nv>int</span><span class=ss>)</span> <span class=o>-&gt;</span> <span class=nv>list</span>:
    <span class=nv>items</span>.<span class=nv>append</span><span class=ss>(</span><span class=nv>item</span><span class=ss>)</span>
    <span class=k>return</span> <span class=nv>items</span>

<span class=nv>def</span> <span class=nv>get</span><span class=ss>(</span><span class=nv>map</span>: <span class=nv>dict</span>, <span class=nv>key</span>: <span class=nv>str</span><span class=ss>)</span> <span class=o>-&gt;</span> <span class=nv>int</span>:
    <span class=k>return</span> <span class=nv>map</span>[<span class=nv>key</span>]
</pre></div></p> <h3 id=type-aliases>Type Aliases<a class=headerlink href=#type-aliases title="Permanent link">&para;</a></h3> <p>The typing module includes support for aliases that can be leveraged for more complex type verification. Aliases for all of the common python data types already exist inclduing <code class=codehilite><span class=n>List</span></code>, <code class=codehilite><span class=n>Dict</span></code>, <code class=codehilite><span class=n>Tuple</span></code>, and <code class=codehilite><span class=k>Set</span></code>. Objects from the <code class=codehilite><span class=n>typing</span></code> module have a bracket operator that allows you to indicate what type of items an object might hold. <div class=codehilite><pre><span></span><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>List</span><span class=p>,</span> <span class=n>Dict</span><span class=p>,</span> <span class=n>Tuple</span><span class=p>,</span> <span class=n>Set</span>
<span class=k>def</span> <span class=nf>dot</span><span class=p>(</span><span class=n>vec_1</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>float</span><span class=p>],</span> <span class=n>vec_2</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>float</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
    <span class=c1># implementation</span>
</pre></div> We can also rewrite the same signature using a type alias. We create a new <code class=codehilite><span class=n>typing</span></code> object that further defines the signature. <div class=codehilite><pre><span></span><span class=n>Vector</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>List</span><span class=o>[</span><span class=n>float</span><span class=o>]</span><span class=w></span>
<span class=n>def</span><span class=w> </span><span class=n>dot</span><span class=p>(</span><span class=nl>vec_1</span><span class=p>:</span><span class=w> </span><span class=n>Vector</span><span class=p>,</span><span class=w> </span><span class=nl>vec_2</span><span class=p>:</span><span class=w> </span><span class=n>Vector</span><span class=p>)</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=nc>float</span><span class=err>:</span><span class=w></span>
<span class=w>    </span><span class=err>#</span><span class=w> </span><span class=n>implementation</span><span class=w></span>
</pre></div> Both of the above examples are identical. Here's a more complex example taken from the Python documentation linked earlier. <div class=codehilite><pre><span></span><span class=n>ConnectionOptions</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Dict</span><span class=o>[</span><span class=n>str, str</span><span class=o>]</span><span class=w></span>
<span class=n>Address</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Tuple</span><span class=o>[</span><span class=n>str, int</span><span class=o>]</span><span class=w></span>
<span class=n>Server</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Tuple</span><span class=o>[</span><span class=n>Address, ConnectionOptions</span><span class=o>]</span><span class=w></span>

<span class=n>def</span><span class=w> </span><span class=n>broadcast_message</span><span class=p>(</span><span class=nl>message</span><span class=p>:</span><span class=w> </span><span class=nf>str</span><span class=p>,</span><span class=w> </span><span class=nl>servers</span><span class=p>:</span><span class=w> </span><span class=k>Sequence</span><span class=o>[</span><span class=n>Server</span><span class=o>]</span><span class=p>)</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=k>None</span><span class=err>:</span><span class=w></span>
</pre></div></p> <h2 id=decorators>Decorators<a class=headerlink href=#decorators title="Permanent link">&para;</a></h2> <h2 id=function-caching>Function Caching<a class=headerlink href=#function-caching title="Permanent link">&para;</a></h2> <h2 id=lambdas>Lambdas<a class=headerlink href=#lambdas title="Permanent link">&para;</a></h2> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid"> <a href=../2syntax/ title="2. Syntax" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i> </div> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Previous </span> 2. Syntax </span> </div> </a> <a href=../4datastructures/ title="3. Data Structures" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel=next> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Next </span> 3. Data Structures </span> </div> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2019 Joey Hejna </div> powered by <a href=https://www.mkdocs.org>MkDocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ > Material for MkDocs</a> </div> <div class=md-footer-social> <link rel=stylesheet href=../../../assets/fonts/font-awesome.css> <a href=https://github.com/jhejna class="md-footer-social__link fa fa-github"></a> <a href=https://linkedin.com/in/jhejna class="md-footer-social__link fa fa-linkedin"></a> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/application.c648116f.js></script> <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>