<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="My notes on things."><link href=http://joeyhejna.com/notes/programming/python/2syntax/ rel=canonical><meta name=author content="Joey Hejna"><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.0.4, mkdocs-material-4.4.1"><title>2. Syntax - Notes</title><link rel=stylesheet href=../../../assets/stylesheets/application.30686662.css><link rel=stylesheet href=../../../assets/stylesheets/application-palette.a8b3c06d.css><meta name=theme-color content=#3f51b5><script src=../../../assets/javascripts/modernizr.74668098.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../../../assets/fonts/material-icons.css></head> <body dir=ltr data-md-color-primary=indigo data-md-color-accent=light-blue> <svg class=md-svg> <defs> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#2-syntax tabindex=1 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=http://joeyhejna.com/notes title=Notes class="md-header-nav__button md-logo"> <i class=md-icon>code</i> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> Notes </span> <span class=md-header-nav__topic> 2. Syntax </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search></label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=query data-md-state=active> <label class="md-icon md-search__icon" for=__search></label> <button type=reset class="md-icon md-search__icon" data-md-component=reset tabindex=-1> &#xE5CD; </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=result> <div class=md-search-result__meta> Type to start searching </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container> <nav class="md-tabs md-tabs--active" data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. title=Home class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../CS70/ title=CS70 class=md-tabs__link> CS70 </a> </li> <li class=md-tabs__item> <a href=../ title=Programming class="md-tabs__link md-tabs__link--active"> Programming </a> </li> </ul> </div> </nav> <main class=md-main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=http://joeyhejna.com/notes title=Notes class="md-nav__button md-logo"> <i class=md-icon>code</i> </a> Notes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. title=Home class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> CS70 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-2> CS70 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../CS70/ title="CS 70" class=md-nav__link> CS 70 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3 type=checkbox id=nav-3 checked> <label class=md-nav__link for=nav-3> Programming </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-3> Programming </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3-1 type=checkbox id=nav-3-1 checked> <label class=md-nav__link for=nav-3-1> Python </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-3-1> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ title="0. About Python" class=md-nav__link> 0. About Python </a> </li> <li class=md-nav__item> <a href=../1objectmodel/ title="1. The Object Model" class=md-nav__link> 1. The Object Model </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-toggle md-nav__toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> 2. Syntax </label> <a href=./ title="2. Syntax" class="md-nav__link md-nav__link--active"> 2. Syntax </a> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#scoping title=Scoping class=md-nav__link> Scoping </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#nonlocal title=nonlocal class=md-nav__link> nonlocal </a> </li> <li class=md-nav__item> <a href=#global title=global class=md-nav__link> global </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#variable-naming title="Variable Naming" class=md-nav__link> Variable Naming </a> </li> <li class=md-nav__item> <a href=#ternary-operator title="Ternary Operator" class=md-nav__link> Ternary Operator </a> </li> <li class=md-nav__item> <a href=#the-python-debugger title="The Python Debugger" class=md-nav__link> The Python Debugger </a> </li> <li class=md-nav__item> <a href=#for-and-else title="for and else" class=md-nav__link> for and else </a> </li> <li class=md-nav__item> <a href=#del title=del class=md-nav__link> del </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../3functions/ title="3. Functions" class=md-nav__link> 3. Functions </a> </li> <li class=md-nav__item> <a href=../4datastructures/ title="3. Data Structures" class=md-nav__link> 3. Data Structures </a> </li> <li class=md-nav__item> <a href=../5oop/ title="5. Object Oriented Programming" class=md-nav__link> 5. Object Oriented Programming </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#scoping title=Scoping class=md-nav__link> Scoping </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#nonlocal title=nonlocal class=md-nav__link> nonlocal </a> </li> <li class=md-nav__item> <a href=#global title=global class=md-nav__link> global </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#variable-naming title="Variable Naming" class=md-nav__link> Variable Naming </a> </li> <li class=md-nav__item> <a href=#ternary-operator title="Ternary Operator" class=md-nav__link> Ternary Operator </a> </li> <li class=md-nav__item> <a href=#the-python-debugger title="The Python Debugger" class=md-nav__link> The Python Debugger </a> </li> <li class=md-nav__item> <a href=#for-and-else title="for and else" class=md-nav__link> for and else </a> </li> <li class=md-nav__item> <a href=#del title=del class=md-nav__link> del </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1 id=2-syntax>2. Syntax<a class=headerlink href=#2-syntax title="Permanent link">&para;</a></h1> <p>This section covers some finer details of python's syntax, along with a few extra tid-bits.</p> <h2 id=scoping>Scoping<a class=headerlink href=#scoping title="Permanent link">&para;</a></h2> <p>In python, scopes are defined by <code class=codehilite><span class=n>dict</span></code> like namespaces, similar to those found in objects. Within objects (and thus within functions), different namespaces are applied than the global python namespace. When python looks up the value attributed to a variable name, it first looks up the name in it's immediate scope by checking the namespace of the object the function is in. If it doesn't find the given variable there, it proceeds down the call stack searching for it, until it finds the variable or reaches the global scope and can't find it. <div class=codehilite><pre><span></span><span class=n>x</span> <span class=o>=</span> <span class=ss>&quot;global&quot;</span>
<span class=n>def</span> <span class=n>fn1</span><span class=p>():</span>
    <span class=n>x</span> <span class=o>=</span> <span class=ss>&quot;local&quot;</span>
    <span class=n>print</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>
<span class=n>def</span> <span class=n>fn2</span><span class=p>():</span>
    <span class=n>print</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>
<span class=n>print</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>    <span class=o>#</span> <span class=k>global</span>
<span class=n>fn1</span><span class=p>()</span>       <span class=o>#</span> <span class=k>local</span>
<span class=n>fn2</span><span class=p>()</span>       <span class=o>#</span> <span class=k>global</span>
</pre></div> You can access the local namespace by calling the <code class=codehilite><span class=n>locals</span><span class=p>()</span></code> function, or the global namespace by calling the <code class=codehilite><span class=n>globals</span><span class=p>()</span></code> function, both of which return key attribute dictionaries.</p> <h3 id=nonlocal>nonlocal<a class=headerlink href=#nonlocal title="Permanent link">&para;</a></h3> <p>The nonlocal keyword in python can be used in nested functions to make a given variable refer to one that is used in a different scope. This essentially binds the variable in local scope to the variable in the next higher level scope where it is defined. <div class=codehilite><pre><span></span><span class=n>def</span> <span class=k>outer</span><span class=p>():</span>
    <span class=n>x</span> <span class=o>=</span> <span class=ss>&quot;outer&quot;</span>
    <span class=n>def</span> <span class=k>inner</span><span class=p>():</span>
        <span class=n>nonlocal</span> <span class=n>x</span>
        <span class=n>x</span> <span class=o>=</span> <span class=ss>&quot;inner&quot;</span>
        <span class=n>print</span><span class=p>(</span><span class=ss>&quot;From Inner:&quot;</span><span class=p>,</span> <span class=n>x</span><span class=p>)</span>
    <span class=k>inner</span><span class=p>()</span>
    <span class=n>print</span><span class=p>(</span><span class=ss>&quot;From Outer:&quot;</span><span class=p>,</span> <span class=n>x</span><span class=p>)</span>
<span class=k>outer</span><span class=p>()</span>
</pre></div> This code yields the following result: <div class=codehilite><pre><span></span><span class=k>From</span> <span class=k>Inner</span><span class=p>:</span> <span class=k>inner</span>
<span class=k>From</span> <span class=k>Outer</span><span class=p>:</span> <span class=k>inner</span>
</pre></div> This is because the variable <code class=codehilite><span class=n>x</span></code> is set to refer to the namespace of <code class=codehilite><span class=k>outer</span></code> with the <code class=codehilite><span class=n>nonlocal</span></code> keyword. Thus, <code class=codehilite><span class=n>x</span></code> gets set to "inner" in the namespace of outer. If <code class=codehilite><span class=n>nonlocal</span></code> was not present, we would instead get the expected result of inner from inner and outer from outer.</p> <h3 id=global>global<a class=headerlink href=#global title="Permanent link">&para;</a></h3> <p>While <code class=codehilite><span class=n>nonlocal</span></code> can refer to external scopes, the keyword <code class=codehilite><span class=k>global</span></code> can be used to make variables refer to their versions in the global namespace. The <code class=codehilite><span class=k>global</span></code> key word makes a given variable refer to the global scope. Be careful though the <code class=codehilite><span class=k>global</span></code> and <code class=codehilite><span class=n>nonlocal</span></code> descriptors only take effect in a given scope. The following example demonstrates this.</p> <p><div class=codehilite><pre><span></span><span class=n>x</span> <span class=o>=</span> <span class=ss>&quot;global&quot;</span>
<span class=n>def</span> <span class=k>outer</span><span class=p>():</span>
    <span class=n>x</span> <span class=o>=</span> <span class=ss>&quot;outer&quot;</span>
    <span class=n>def</span> <span class=k>inner</span><span class=p>():</span>
        <span class=k>global</span> <span class=n>x</span>
        <span class=n>x</span> <span class=o>=</span> <span class=ss>&quot;inner&quot;</span>
        <span class=n>print</span><span class=p>(</span><span class=ss>&quot;From Inner:&quot;</span><span class=p>,</span> <span class=n>x</span><span class=p>)</span>
    <span class=k>inner</span><span class=p>()</span>
    <span class=n>print</span><span class=p>(</span><span class=ss>&quot;From Outer:&quot;</span><span class=p>,</span> <span class=n>x</span><span class=p>)</span>
<span class=k>outer</span><span class=p>()</span>
<span class=n>print</span><span class=p>(</span><span class=ss>&quot;From Global:&quot;</span><span class=p>,</span> <span class=n>x</span><span class=p>)</span>
</pre></div> The result of running this is: <div class=codehilite><pre><span></span><span class=k>From</span> <span class=k>Inner</span><span class=p>:</span> <span class=k>inner</span>
<span class=k>From</span> <span class=k>Outer</span><span class=p>:</span> <span class=k>outer</span>
<span class=k>From</span> <span class=k>Global</span><span class=p>:</span> <span class=k>inner</span>
</pre></div> Note that in the scope of <code class=codehilite><span class=k>outer</span></code> the variable is unchanged. This is because the binding of <code class=codehilite><span class=k>global</span></code> only takes effect within the scope it is used. As expected, in <code class=codehilite><span class=k>inner</span></code>, <code class=codehilite><span class=n>x</span></code> will refer to the global variable and change it to "inner".</p> <h2 id=variable-naming>Variable Naming<a class=headerlink href=#variable-naming title="Permanent link">&para;</a></h2> <p>Python has no strict for scoping variables as private or public. Instead, naming conventions are used in order to indicate a variables type of access.</p> <p>Single underscores as prefixes, like <code class=codehilite><span class=n>_variable</span></code> are used to indicate private attributes of an object.</p> <p>In messy situations with inheritance, double underscores, like <code class=codehilite><span class=n>__variable</span></code> can be used. At runtime, these varaible names have the class type prepended along with underscores, to form a name like <code class=codehilite><span class=n>__classname__variable</span></code>. This can be used to automatically prevent name conflicts between parent and sub classes.</p> <p>Double underscores on either side of a variable name, like <code class=codehilite><span class=n>__variable__</span></code> refer to attributes that are directly used by the python interpreter. Changing or overriding these functions is not garunteed to be safe in general.</p> <h2 id=ternary-operator>Ternary Operator<a class=headerlink href=#ternary-operator title="Permanent link">&para;</a></h2> <p>Most people don't know about it, but python actually has a ternary operator. It is of the following form: <div class=codehilite><pre><span></span><span class=nv>true_result</span> <span class=k>if</span> <span class=nv>condition</span> <span class=k>else</span> <span class=nv>false_result</span>
</pre></div></p> <p>The same effect can be achieved with tuples, though the first method is preferable as it is more readable. <div class=codehilite><pre><span></span><span class=p>(</span><span class=n>true_result</span><span class=p>,</span><span class=w> </span><span class=n>false_result</span><span class=p>)</span><span class=o>[</span><span class=n>condition</span><span class=o>]</span><span class=w></span>
</pre></div> This works because <code class=codehilite><span class=k>True</span></code> casts to the integer value 1 while <code class=codehilite><span class=k>False</span></code> casts to the integer value 0.</p> <h2 id=the-python-debugger>The Python Debugger<a class=headerlink href=#the-python-debugger title="Permanent link">&para;</a></h2> <p>pdb is amazing. Not many people use it. It basically allows you to insert yourself in the middle of python's repl loop and step through any part of execution and manipulate variables at will. I've found it to be super useful. You can use it at any point by just importing <code class=codehilite><span class=n>pdb</span></code>, then running <code class=codehilite><span class=n>pdb</span><span class=p>.</span><span class=n>set_trace</span><span class=p>()</span></code>. A lot of Python programmers debug with print statements, and I find pdb to be much faster sometimes. Using pdb is straight forward and you can find it's documentation <a href=https://docs.python.org/3/library/pdb.html>here</a>.</p> <h2 id=for-and-else><code class=codehilite><span class=k>for</span></code> and <code class=codehilite><span class=k>else</span></code><a class=headerlink href=#for-and-else title="Permanent link">&para;</a></h2> <p>One relatively unknown part of basic python control flow is the <code class=codehilite><span class=k>for</span></code> and <code class=codehilite><span class=k>else</span></code> combination. You can include an <code class=codehilite><span class=k>else</span></code> clause at the end of for loops in python that will execute if no <code class=codehilite><span class=k>break</span></code> is called. When searching through iteratbles, this can act as an ending "catch-all" if no matching item is found. THe official Python documentation has this example that finds all the prime numbers between 2 and 9 inclusive. <div class=codehilite><pre><span></span><span class=k>for</span> <span class=nv>n</span> <span class=nv>in</span> <span class=nv>range</span><span class=ss>(</span><span class=mi>2</span>, <span class=mi>10</span><span class=ss>)</span>:
    <span class=k>for</span> <span class=nv>x</span> <span class=nv>in</span> <span class=nv>range</span><span class=ss>(</span><span class=mi>2</span>, <span class=nv>n</span><span class=ss>)</span>:
        <span class=k>if</span> <span class=nv>n</span> <span class=o>%</span> <span class=nv>x</span> <span class=o>==</span> <span class=mi>0</span>:
            <span class=nv>print</span><span class=ss>(</span> <span class=nv>n</span>, <span class=s1>&#39;</span><span class=s>equals</span><span class=s1>&#39;</span>, <span class=nv>x</span>, <span class=s1>&#39;</span><span class=s>*</span><span class=s1>&#39;</span>, <span class=nv>n</span><span class=o>/</span><span class=nv>x</span><span class=ss>)</span>
            <span class=k>break</span>
    <span class=k>else</span>:
        # <span class=k>loop</span> <span class=nv>fell</span> <span class=nv>through</span> <span class=nv>without</span> <span class=nv>finding</span> <span class=nv>a</span> <span class=nv>factor</span>
        <span class=nv>print</span><span class=ss>(</span><span class=nv>n</span>, <span class=s1>&#39;</span><span class=s>is a prime number</span><span class=s1>&#39;</span><span class=ss>)</span>
</pre></div> If a number <code class=codehilite><span class=n>n</span></code> doesn't have any factors, we will never hit the <code class=codehilite><span class=k>break</span></code> and thus the <code class=codehilite><span class=k>else</span></code> clause will be invoked.</p> <h2 id=del><code class=codehilite><span class=n>del</span></code><a class=headerlink href=#del title="Permanent link">&para;</a></h2> <p>Python handles garbage collection automatically, so you don't need to give memory usage or space allocation much thought. However, python still provides teh <code class=codehilite><span class=n>del</span></code> keyword, which can be used to delete objects and free the space in memory they consumed. Just specify <code class=codehilite><span class=n>del</span> <span class=n>obj</span></code>. One feature of note is that the <code class=codehilite><span class=n>del</span></code> operator works on indices. For example, <code class=codehilite><span class=n>del</span> <span class=n>lst</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span></code> will delete the third item of the list <code class=codehilite><span class=n>lst</span></code>.</p> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid"> <a href=../1objectmodel/ title="1. The Object Model" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i> </div> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Previous </span> 1. The Object Model </span> </div> </a> <a href=../3functions/ title="3. Functions" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel=next> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Next </span> 3. Functions </span> </div> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2019 Joey Hejna </div> powered by <a href=https://www.mkdocs.org>MkDocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ > Material for MkDocs</a> </div> <div class=md-footer-social> <link rel=stylesheet href=../../../assets/fonts/font-awesome.css> <a href=https://github.com/jhejna class="md-footer-social__link fa fa-github"></a> <a href=https://linkedin.com/in/jhejna class="md-footer-social__link fa fa-linkedin"></a> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/application.c648116f.js></script> <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>