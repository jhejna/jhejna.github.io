<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="My notes on things."><link href=http://joeyhejna.com/notes/programming/python/1objectmodel/ rel=canonical><meta name=author content="Joey Hejna"><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.0.4, mkdocs-material-4.4.1"><title>1. The Object Model - Notes</title><link rel=stylesheet href=../../../assets/stylesheets/application.30686662.css><link rel=stylesheet href=../../../assets/stylesheets/application-palette.a8b3c06d.css><meta name=theme-color content=#3f51b5><script src=../../../assets/javascripts/modernizr.74668098.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../../../assets/fonts/material-icons.css></head> <body dir=ltr data-md-color-primary=indigo data-md-color-accent=light-blue> <svg class=md-svg> <defs> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#1-the-object-model tabindex=1 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=http://joeyhejna.com/notes title=Notes class="md-header-nav__button md-logo"> <i class=md-icon>code</i> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> Notes </span> <span class=md-header-nav__topic> 1. The Object Model </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search></label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=query data-md-state=active> <label class="md-icon md-search__icon" for=__search></label> <button type=reset class="md-icon md-search__icon" data-md-component=reset tabindex=-1> &#xE5CD; </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=result> <div class=md-search-result__meta> Type to start searching </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container> <nav class="md-tabs md-tabs--active" data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. title=Home class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../ title=Programming class="md-tabs__link md-tabs__link--active"> Programming </a> </li> </ul> </div> </nav> <main class=md-main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=http://joeyhejna.com/notes title=Notes class="md-nav__button md-logo"> <i class=md-icon>code</i> </a> Notes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. title=Home class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2 type=checkbox id=nav-2 checked> <label class=md-nav__link for=nav-2> Programming </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-2> Programming </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2-1 type=checkbox id=nav-2-1 checked> <label class=md-nav__link for=nav-2-1> Python </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-2-1> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ title="0. About Python" class=md-nav__link> 0. About Python </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-toggle md-nav__toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> 1. The Object Model </label> <a href=./ title="1. The Object Model" class="md-nav__link md-nav__link--active"> 1. The Object Model </a> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#typing title=Typing class=md-nav__link> Typing </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#none title=None class=md-nav__link> None </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#how-objects-store-values title="How objects store values" class=md-nav__link> How objects store values </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#__dict__ title=__dict__ class=md-nav__link> __dict__ </a> </li> <li class=md-nav__item> <a href=#getters-and-setters title="Getters and Setters." class=md-nav__link> Getters and Setters. </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mutable-vs-immutable-objects title="Mutable vs Immutable Objects" class=md-nav__link> Mutable vs Immutable Objects </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#is-vs title="is vs ==" class=md-nav__link> is vs == </a> </li> <li class=md-nav__item> <a href=#a-tricky-example title="A Tricky Example" class=md-nav__link> A Tricky Example </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#type-casting-in-python title="Type Casting In Python" class=md-nav__link> Type Casting In Python </a> </li> <li class=md-nav__item> <a href=#special-object-functions-and-operators title="Special Object Functions and Operators" class=md-nav__link> Special Object Functions and Operators </a> </li> <li class=md-nav__item> <a href=#sources-and-further-reading title="Sources and Further Reading" class=md-nav__link> Sources and Further Reading </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../2syntax/ title="2. Syntax" class=md-nav__link> 2. Syntax </a> </li> <li class=md-nav__item> <a href=../3functions/ title="3. Functions" class=md-nav__link> 3. Functions </a> </li> <li class=md-nav__item> <a href=../4datastructures/ title="3. Data Structures" class=md-nav__link> 3. Data Structures </a> </li> <li class=md-nav__item> <a href=../5oop/ title="5. Object Oriented Programming" class=md-nav__link> 5. Object Oriented Programming </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#typing title=Typing class=md-nav__link> Typing </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#none title=None class=md-nav__link> None </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#how-objects-store-values title="How objects store values" class=md-nav__link> How objects store values </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#__dict__ title=__dict__ class=md-nav__link> __dict__ </a> </li> <li class=md-nav__item> <a href=#getters-and-setters title="Getters and Setters." class=md-nav__link> Getters and Setters. </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mutable-vs-immutable-objects title="Mutable vs Immutable Objects" class=md-nav__link> Mutable vs Immutable Objects </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#is-vs title="is vs ==" class=md-nav__link> is vs == </a> </li> <li class=md-nav__item> <a href=#a-tricky-example title="A Tricky Example" class=md-nav__link> A Tricky Example </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#type-casting-in-python title="Type Casting In Python" class=md-nav__link> Type Casting In Python </a> </li> <li class=md-nav__item> <a href=#special-object-functions-and-operators title="Special Object Functions and Operators" class=md-nav__link> Special Object Functions and Operators </a> </li> <li class=md-nav__item> <a href=#sources-and-further-reading title="Sources and Further Reading" class=md-nav__link> Sources and Further Reading </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1 id=1-the-object-model>1. The Object Model<a class=headerlink href=#1-the-object-model title="Permanent link">&para;</a></h1> <p>This section details the underpinnings of the Python language. It's possible to be a talented Python programmer without knowing any of the details presented in this section, but know them provides a fundamental understanding of the language.</p> <p>Essentially, everything in python is an object. Every variable you make is an object, every operation you execute is between objects. Seriously. <code class=codehilite><span class=nb>int</span></code>, <code class=codehilite><span class=nb>float</span></code>, functions, and anything else you can thing of: all objects that inherit from python's base object class, unsurprisingly named <code class=codehilite><span class=k>object</span></code>. What does this mean? In python, primitive data types are in fact not very primitive at all, and are instead feature rich in comparison to their counterparts in lower level languages. </p> <p>Let's explore this a little bit by just looking at an integer. We'll create an <code class=codehilite><span class=nb>int</span></code>, then see what attributes it has by calling the <code class=codehilite><span class=n>dir</span></code> function. When <code class=codehilite><span class=n>dir</span></code> is called on an object, it recursively searches all the attributes of the argument and it's parents or base classes. <div class=codehilite><pre><span></span><span class=o>&gt;&gt;&gt;</span> <span class=n>n</span> <span class=o>=</span> <span class=mi>1</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>dir</span><span class=p>(</span><span class=n>n</span><span class=p>)</span>
<span class=p>[</span><span class=s1>&#39;__abs__&#39;</span><span class=p>,</span> <span class=s1>&#39;__add__&#39;</span><span class=p>,</span> <span class=s1>&#39;__and__&#39;</span><span class=p>,</span> <span class=s1>&#39;__bool__&#39;</span><span class=p>,</span> <span class=s1>&#39;__ceil__&#39;</span><span class=p>,</span> <span class=s1>&#39;__class__&#39;</span><span class=p>,</span> <span class=s1>&#39;__delattr__&#39;</span><span class=p>,</span> <span class=s1>&#39;__dir__&#39;</span><span class=p>,</span> <span class=s1>&#39;__divmod__&#39;</span><span class=p>,</span> <span class=s1>&#39;__doc__&#39;</span><span class=p>,</span> <span class=s1>&#39;__eq__&#39;</span><span class=p>,</span> <span class=s1>&#39;__float__&#39;</span><span class=p>,</span> <span class=s1>&#39;__floor__&#39;</span><span class=p>,</span> <span class=s1>&#39;__floordiv__&#39;</span><span class=p>,</span> <span class=s1>&#39;__format__&#39;</span><span class=p>,</span> <span class=s1>&#39;__ge__&#39;</span><span class=p>,</span> <span class=s1>&#39;__getattribute__&#39;</span><span class=p>,</span> <span class=s1>&#39;__getnewargs__&#39;</span><span class=p>,</span> <span class=s1>&#39;__gt__&#39;</span><span class=p>,</span> <span class=s1>&#39;__hash__&#39;</span><span class=p>,</span> <span class=s1>&#39;__index__&#39;</span><span class=p>,</span> <span class=s1>&#39;__init__&#39;</span><span class=p>,</span> <span class=s1>&#39;__init_subclass__&#39;</span><span class=p>,</span> <span class=s1>&#39;__int__&#39;</span><span class=p>,</span> <span class=s1>&#39;__invert__&#39;</span><span class=p>,</span> <span class=s1>&#39;__le__&#39;</span><span class=p>,</span> <span class=s1>&#39;__lshift__&#39;</span><span class=p>,</span> <span class=s1>&#39;__lt__&#39;</span><span class=p>,</span> <span class=s1>&#39;__mod__&#39;</span><span class=p>,</span> <span class=s1>&#39;__mul__&#39;</span><span class=p>,</span> <span class=s1>&#39;__ne__&#39;</span><span class=p>,</span> <span class=s1>&#39;__neg__&#39;</span><span class=p>,</span> <span class=s1>&#39;__new__&#39;</span><span class=p>,</span> <span class=s1>&#39;__or__&#39;</span><span class=p>,</span> <span class=s1>&#39;__pos__&#39;</span><span class=p>,</span> <span class=s1>&#39;__pow__&#39;</span><span class=p>,</span> <span class=s1>&#39;__radd__&#39;</span><span class=p>,</span> <span class=s1>&#39;__rand__&#39;</span><span class=p>,</span> <span class=s1>&#39;__rdivmod__&#39;</span><span class=p>,</span> <span class=s1>&#39;__reduce__&#39;</span><span class=p>,</span> <span class=s1>&#39;__reduce_ex__&#39;</span><span class=p>,</span> <span class=s1>&#39;__repr__&#39;</span><span class=p>,</span> <span class=s1>&#39;__rfloordiv__&#39;</span><span class=p>,</span> <span class=s1>&#39;__rlshift__&#39;</span><span class=p>,</span> <span class=s1>&#39;__rmod__&#39;</span><span class=p>,</span> <span class=s1>&#39;__rmul__&#39;</span><span class=p>,</span> <span class=s1>&#39;__ror__&#39;</span><span class=p>,</span> <span class=s1>&#39;__round__&#39;</span><span class=p>,</span> <span class=s1>&#39;__rpow__&#39;</span><span class=p>,</span> <span class=s1>&#39;__rrshift__&#39;</span><span class=p>,</span> <span class=s1>&#39;__rshift__&#39;</span><span class=p>,</span> <span class=s1>&#39;__rsub__&#39;</span><span class=p>,</span> <span class=s1>&#39;__rtruediv__&#39;</span><span class=p>,</span> <span class=s1>&#39;__rxor__&#39;</span><span class=p>,</span> <span class=s1>&#39;__setattr__&#39;</span><span class=p>,</span> <span class=s1>&#39;__sizeof__&#39;</span><span class=p>,</span> <span class=s1>&#39;__str__&#39;</span><span class=p>,</span> <span class=s1>&#39;__sub__&#39;</span><span class=p>,</span> <span class=s1>&#39;__subclasshook__&#39;</span><span class=p>,</span> <span class=s1>&#39;__truediv__&#39;</span><span class=p>,</span> <span class=s1>&#39;__trunc__&#39;</span><span class=p>,</span> <span class=s1>&#39;__xor__&#39;</span><span class=p>,</span> <span class=s1>&#39;bit_length&#39;</span><span class=p>,</span> <span class=s1>&#39;conjugate&#39;</span><span class=p>,</span> <span class=s1>&#39;denominator&#39;</span><span class=p>,</span> <span class=s1>&#39;from_bytes&#39;</span><span class=p>,</span> <span class=s1>&#39;imag&#39;</span><span class=p>,</span> <span class=s1>&#39;numerator&#39;</span><span class=p>,</span> <span class=s1>&#39;real&#39;</span><span class=p>,</span> <span class=s1>&#39;to_bytes&#39;</span><span class=p>]</span>
</pre></div></p> <p>Wow! There's a lot more to an integer than just a value. In lower level languages, like C, C++, or Java, primitive types refer to sections of memory, designated to contain a specifc value that can be directly manipulted in assembly code or even transistor level logic in CPUs. Python sits at a much higher abstraction level. Though python is slower than the aforementioned languages, the programmer doesn't have to deal with problems like overflow, underflow, or invalid type casting as all of this is abstracted away through objects. Some the attributes listed through <code class=codehilite><span class=n>dir</span><span class=p>(</span><span class=nb>int</span><span class=p>)</span></code> are class specific to <code class=codehilite><span class=nb>int</span></code>, and some are inherited from <code class=codehilite><span class=k>object</span></code>. Let's see what attributes <code class=codehilite><span class=k>object</span></code> by calling <code class=codehilite><span class=n>dir</span></code> on the static type itself. <div class=codehilite><pre><span></span><span class=o>&gt;&gt;&gt;</span> <span class=n>dir</span><span class=p>(</span><span class=k>object</span><span class=p>)</span>
<span class=p>[</span><span class=s1>&#39;__class__&#39;</span><span class=p>,</span> <span class=s1>&#39;__delattr__&#39;</span><span class=p>,</span> <span class=s1>&#39;__dir__&#39;</span><span class=p>,</span> <span class=s1>&#39;__doc__&#39;</span><span class=p>,</span> <span class=s1>&#39;__eq__&#39;</span><span class=p>,</span> <span class=s1>&#39;__format__&#39;</span><span class=p>,</span> <span class=s1>&#39;__ge__&#39;</span><span class=p>,</span> <span class=s1>&#39;__getattribute__&#39;</span><span class=p>,</span> <span class=s1>&#39;__gt__&#39;</span><span class=p>,</span> <span class=s1>&#39;__hash__&#39;</span><span class=p>,</span> <span class=s1>&#39;__init__&#39;</span><span class=p>,</span> <span class=s1>&#39;__init_subclass__&#39;</span><span class=p>,</span> <span class=s1>&#39;__le__&#39;</span><span class=p>,</span> <span class=s1>&#39;__lt__&#39;</span><span class=p>,</span> <span class=s1>&#39;__ne__&#39;</span><span class=p>,</span> <span class=s1>&#39;__new__&#39;</span><span class=p>,</span> <span class=s1>&#39;__reduce__&#39;</span><span class=p>,</span> <span class=s1>&#39;__reduce_ex__&#39;</span><span class=p>,</span> <span class=s1>&#39;__repr__&#39;</span><span class=p>,</span> <span class=s1>&#39;__setattr__&#39;</span><span class=p>,</span> <span class=s1>&#39;__sizeof__&#39;</span><span class=p>,</span> <span class=s1>&#39;__str__&#39;</span><span class=p>,</span> <span class=s1>&#39;__subclasshook__&#39;</span><span class=p>]</span>
</pre></div></p> <p>By the end of this note, you should understand what most of the different attributes listed above do. But, with so many different types of objects we have to have some way of discerning between different types.</p> <div class="admonition note"> <p class=admonition-title>NotImplemented</p> <p>Python has one special object run globally called <code class=codehilite><span class=n>NotImplemented</span></code>. It can be used when object's don't implement some of the default binary function attributes given to them by the <code class=codehilite><span class=k>object</span></code> class. <code class=codehilite><span class=k>type</span><span class=p>(</span><span class=n>NotImplemented</span><span class=p>)</span> <span class=o>=</span> <span class=o>&lt;</span><span class=k>class</span> <span class=s1>&#39;NotImplementedType&#39;</span><span class=o>&gt;</span></code>.</p> </div> <h2 id=typing>Typing<a class=headerlink href=#typing title="Permanent link">&para;</a></h2> <p>Python provides a few built-in functions to help distinguish between objects of different types.</p> <p><code class=codehilite><span class=k>type</span><span class=p>(</span><span class=n>arg</span><span class=p>)</span></code> : the <code class=codehilite><span class=k>type</span></code> function returns a Type Object representing the type or class of its argument. For example: <div class=codehilite><pre><span></span><span class=o>&gt;&gt;&gt;</span> <span class=k>type</span><span class=p>(</span><span class=nb>int</span><span class=p>)</span>
<span class=o>&lt;</span><span class=k>class</span> <span class=s1>&#39;type&#39;</span><span class=o>&gt;</span>
<span class=o>&gt;&gt;&gt;</span> <span class=k>type</span><span class=p>(</span><span class=k>type</span><span class=p>(</span><span class=nb>int</span><span class=p>))</span>
<span class=o>&lt;</span><span class=k>class</span> <span class=s1>&#39;type&#39;</span><span class=o>&gt;</span>
</pre></div> Though this function returns the type of an object, there are built-in functions more specifically designed for comparing the types of two differnet objects.</p> <p>The first is the <code class=codehilite><span class=n>isinstance</span><span class=p>(</span><span class=k>object</span><span class=p>,</span> <span class=n>classInfo</span><span class=p>)</span></code> function. It takes in an object (can be static type or instance) as the first argument, and a tuple of types as the second parameter. For example: <div class=codehilite><pre><span></span><span class=o>&gt;&gt;&gt;</span> <span class=n>n</span> <span class=o>=</span> <span class=mi>1</span><span class=p>.</span><span class=mi>0</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>isinstance</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=nb>int</span><span class=p>)</span>
<span class=k>False</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>isinstance</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=p>(</span><span class=nb>int</span><span class=p>,</span> <span class=nb>float</span><span class=p>))</span>
<span class=k>True</span>
</pre></div></p> <p><code class=codehilite><span class=n>issubclass</span><span class=p>(</span><span class=k>class</span><span class=p>,</span> <span class=n>classInfo</span><span class=p>)</span></code> is used less, but is useful for determining if a given class is a sub class of another. For example, <code class=codehilite><span class=n>issubclass</span><span class=p>(</span><span class=nb>int</span><span class=p>,</span> <span class=k>object</span><span class=p>)</span></code> gives <code class=codehilite><span class=k>True</span></code>.</p> <h3 id=none>None<a class=headerlink href=#none title="Permanent link">&para;</a></h3> <p>The <code class=codehilite><span class=k>None</span></code> object represents, well, nothing. <code class=codehilite><span class=k>None</span></code> is globally unique and is the only possible value of objects of type <code class=codehilite><span class=k>None</span></code>.</p> <h2 id=how-objects-store-values>How objects store values<a class=headerlink href=#how-objects-store-values title="Permanent link">&para;</a></h2> <h3 id=__dict__><code class=codehilite><span class=n>__dict__</span></code><a class=headerlink href=#__dict__ title="Permanent link">&para;</a></h3> <p>In Python, objects store all of their attributes in dictionary or dictionary like objects. The <code class=codehilite><span class=n>vars</span></code> function lists all of the attributes in an objects <code class=codehilite><span class=n>__dict__</span></code>. The result of a <code class=codehilite><span class=n>vars</span></code> call differs if the argument is an object type or an object instance. When called on an object type, for example <code class=codehilite><span class=n>vars</span><span class=p>(</span><span class=nb>int</span><span class=p>)</span></code>, the output is very similar to that of dir (except it won't look at base classes), but it returns a protected dictionary called <code class=codehilite><span class=n>mappingproxy</span></code> that contains attributes and their values pertinate to the static or class level attributes of a type. Calling <code class=codehilite><span class=n>vars</span></code> on an instance returns the attributes pertinate to the instance. Here's an example to demonstrate:</p> <div class=codehilite><pre><span></span><span class=o>&gt;&gt;&gt;</span> <span class=k>class</span> <span class=n>Test</span><span class=p>(</span><span class=k>object</span><span class=p>):</span>
<span class=p>...</span>     <span class=n>static_val</span> <span class=o>=</span> <span class=mi>0</span>
<span class=p>...</span>     <span class=n>def</span> <span class=n>test</span><span class=p>(</span><span class=k>self</span><span class=p>):</span>
<span class=p>...</span>         <span class=n>pass</span>
<span class=p>...</span> 
<span class=o>&gt;&gt;&gt;</span> <span class=n>t</span> <span class=o>=</span> <span class=n>Test</span><span class=p>()</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>t</span><span class=p>.</span><span class=n>inst_val</span> <span class=o>=</span> <span class=mi>1</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>vars</span><span class=p>(</span><span class=n>Test</span><span class=p>)</span>
<span class=n>mappingproxy</span><span class=p>(</span><span class=err>{</span><span class=s1>&#39;__module__&#39;</span><span class=p>:</span> <span class=s1>&#39;__main__&#39;</span><span class=p>,</span> <span class=s1>&#39;static_val&#39;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span> <span class=s1>&#39;test&#39;</span><span class=p>:</span> <span class=o>&lt;</span><span class=k>function</span> <span class=n>Test</span><span class=p>.</span><span class=n>test</span> <span class=k>at</span> <span class=mi>0</span><span class=n>x7f072c48d730</span><span class=o>&gt;</span><span class=p>,</span> <span class=s1>&#39;__dict__&#39;</span><span class=p>:</span> <span class=o>&lt;</span><span class=n>attribute</span> <span class=s1>&#39;__dict__&#39;</span> <span class=k>of</span> <span class=s1>&#39;Test&#39;</span> <span class=n>objects</span><span class=o>&gt;</span><span class=p>,</span> <span class=s1>&#39;__weakref__&#39;</span><span class=p>:</span> <span class=o>&lt;</span><span class=n>attribute</span> <span class=s1>&#39;__weakref__&#39;</span> <span class=k>of</span> <span class=s1>&#39;Test&#39;</span> <span class=n>objects</span><span class=o>&gt;</span><span class=p>,</span> <span class=s1>&#39;__doc__&#39;</span><span class=p>:</span> <span class=k>None</span><span class=err>}</span><span class=p>)</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>vars</span><span class=p>(</span><span class=n>t</span><span class=p>)</span>
<span class=err>{</span><span class=s1>&#39;inst_val&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=err>}</span>
</pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>calling vars is essentially equivalent to accessing the <code class=codehilite><span class=n>__dict__</span></code> attribute of an object type or an object instance). It's worth noting that some object instances, like those of type <code class=codehilite><span class=nb>int</span></code> do not actually have a <code class=codehilite><span class=n>__dict__</span></code> attribute. This really only seems to apply to primitive-like or built-in types.</p> </div> <p>In fact, because Python objects store their values using the <code class=codehilite><span class=n>__dict__</span></code> attribute, we can actually create very basic objects using the <code class=codehilite><span class=k>type</span></code> function. By passing more parameters to the <code class=codehilite><span class=k>type</span></code> function, it actually creates a new type object. The following are two identical ways of creating the same object.</p> <div class=codehilite><pre><span></span><span class=o>&gt;&gt;&gt;</span> <span class=k>class</span> <span class=n>X</span><span class=p>:</span>
<span class=p>...</span>     <span class=n>a</span> <span class=o>=</span> <span class=mi>1</span>
<span class=p>...</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>X</span> <span class=o>=</span> <span class=k>type</span><span class=p>(</span><span class=s1>&#39;X&#39;</span><span class=p>,</span> <span class=p>(</span><span class=k>object</span><span class=p>,),</span> <span class=n>dict</span><span class=p>(</span><span class=n>a</span><span class=o>=</span><span class=mi>1</span><span class=p>))</span>
</pre></div> <h3 id=getters-and-setters>Getters and Setters.<a class=headerlink href=#getters-and-setters title="Permanent link">&para;</a></h3> <p>Python additionally has a set of built in set of methods for getting, setting, and deleting attributes. The <code class=codehilite><span class=k>object</span></code> base class has the following getter and setter methods which are wrapped by built-in python functions.</p> <table> <thead> <tr> <th>Object Method</th> <th>Built-in Function</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code class=codehilite><span class=k>object</span><span class=p>.</span><span class=n>__getattribute__</span><span class=p>(</span><span class=s1>&#39;name&#39;</span><span class=p>)</span></code></td> <td><code class=codehilite><span class=n>getattr</span><span class=p>(</span><span class=k>object</span><span class=p>,</span> <span class=s1>&#39;name&#39;</span><span class=p>)</span></code></td> <td>Gets attribute</td> </tr> <tr> <td><code class=codehilite><span class=k>object</span><span class=p>.</span><span class=n>__setattr__</span><span class=p>(</span><span class=s1>&#39;name&#39;</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span></code></td> <td><code class=codehilite><span class=n>setattr</span><span class=p>(</span><span class=k>object</span><span class=p>,</span> <span class=s1>&#39;name&#39;</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span></code></td> <td>Sets attribute to value</td> </tr> <tr> <td><code class=codehilite><span class=k>object</span><span class=p>.</span><span class=n>__delattr</span><span class=p>(</span><span class=s1>&#39;name&#39;</span><span class=p>)</span></code></td> <td><code class=codehilite><span class=n>delattr</span><span class=p>(</span><span class=k>object</span><span class=p>,</span> <span class=s1>&#39;name&#39;</span><span class=p>)</span></code></td> <td>Deletes attribute</td> </tr> <tr> <td>N/A</td> <td><code class=codehilite><span class=n>hasattr</span><span class=p>(</span><span class=k>object</span><span class=p>,</span> <span class=s1>&#39;name&#39;</span><span class=p>)</span></code></td> <td>Checks if an object has an attribute.</td> </tr> </tbody> </table> <h2 id=mutable-vs-immutable-objects>Mutable vs Immutable Objects<a class=headerlink href=#mutable-vs-immutable-objects title="Permanent link">&para;</a></h2> <p>In Python, objects fit into one of two categories: mutable, or immutable. Immutable objects have to be copied in order to change, whereas mutable objects do not. Upon instantiation, every object in Python is assigned a unique ID that often corresponds to it's location in memory and can be accessed via the <code class=codehilite><span class=n>id</span><span class=p>(</span><span class=n>obj</span><span class=p>)</span></code> method. Immutable objects derive their concepet of uniqueness from the values they contian, rather than their instantiation in memory. This means that if we change the value of an immutable object held by a variable, we are actually creating a new object and changing the variable to point at the new object. Here's an example:</p> <p><div class=codehilite><pre><span></span><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>id</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
<span class=mi>10968768</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>b</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>id</span><span class=p>(</span><span class=n>b</span><span class=p>)</span>
<span class=mi>10968800</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>a</span> <span class=o>+=</span><span class=mi>1</span><span class=p>;</span> <span class=n>id</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
<span class=mi>10968800</span>
<span class=o>&gt;&gt;&gt;</span> <span class=k>c</span> <span class=o>=</span> <span class=ss>&quot;hi&quot;</span><span class=p>;</span> <span class=n>id</span><span class=p>(</span><span class=k>c</span><span class=p>);</span> <span class=n>d</span> <span class=o>=</span> <span class=ss>&quot;hi&quot;</span><span class=p>;</span> <span class=n>id</span><span class=p>(</span><span class=n>d</span><span class=p>)</span>
<span class=mi>140191817812880</span>
<span class=mi>140191817812880</span>
</pre></div> Notice how on each assignment, the ID of each variable completely changes as it points to a new object. Primitive like types are immutable because of the speed benefits an immutable object offers. As primitive objects are not large or complex, we do not incur a large cost when copying or re-instantiating them upon changing a value. Additionally, <em>passing immutable types to functions is always safe</em>, as we can't actually modify the underlying object is a variable is pointing to. </p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>ID's will not always be the same for the "same" immutable object. For example, if we execute <code class=codehilite><span class=n>a</span> <span class=o>=</span> <span class=ss>&quot;hi&quot;</span><span class=p>;</span> <span class=n>b</span> <span class=o>=</span> <span class=ss>&quot;h&quot;</span><span class=p>;</span> <span class=n>b</span> <span class=o>+=</span> <span class=ss>&quot;i&quot;</span></code>, <code class=codehilite><span class=n>id</span><span class=p>(</span><span class=n>a</span><span class=p>)</span></code> and <code class=codehilite><span class=n>id</span><span class=p>(</span><span class=n>b</span><span class=p>)</span></code> will not be the same. This is because we don't recheck memory to determine if the same string has already been used and instead just allocate new space for the new string. </p> </div> <p><strong>The following are Immutable in Python</strong>: int, float, complex, string, tuple, frozen set, bytes</p> <p>Every other object is mutable. Mutable objects are not copied and are instead modified in place. This means that operations on mutable types can be unsafe when passed to functions as the function is able to change the underlying object. For example,</p> <div class=codehilite><pre><span></span><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>];</span> <span class=n>id</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
<span class=mi>140191817820232</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>b</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>];</span> <span class=n>id</span><span class=p>(</span><span class=n>b</span><span class=p>)</span>
<span class=mi>140191817818952</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>a</span><span class=p>.</span><span class=n>append</span><span class=p>(</span><span class=mi>2</span><span class=p>);</span> <span class=n>id</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
<span class=mi>140191817820232</span>
</pre></div> <h3 id=is-vs>is vs ==<a class=headerlink href=#is-vs title="Permanent link">&para;</a></h3> <p>The python <code class=codehilite><span class=k>is</span></code> operator simply compares the <code class=codehilite><span class=n>id</span></code> of the two objects, or does an integer comparison <code class=codehilite><span class=n>id</span><span class=p>(</span><span class=n>a</span><span class=p>)</span> <span class=o>==</span> <span class=n>id</span><span class=p>(</span><span class=n>b</span><span class=p>)</span></code>. The <code class=codehilite><span class=o>==</span></code> operator on the other hand, calls the special <code class=codehilite><span class=n>__eq__</span></code> comparison operator defined between objects. Unless overrided, this defaults to simply doing the same id comparison as <code class=codehilite><span class=k>is</span></code>. Thus, unless the <code class=codehilite><span class=n>__eq__</span></code> method is specified, <code class=codehilite><span class=o>==</span></code> comparisons between custom objects in Python won't behave as expected.</p> <h3 id=a-tricky-example>A Tricky Example<a class=headerlink href=#a-tricky-example title="Permanent link">&para;</a></h3> <p>In Python, tuples are a basic immutable data type that represent a fixed length of fixed values. Let's look at a complicated example using tuples to drive mutability vs immutability home.</p> <div class=codehilite><pre><span></span><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span><span class=p>,</span> <span class=n>b</span> <span class=o>=</span> <span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>])</span> <span class=p>,</span> <span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>])</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>a</span> <span class=o>==</span> <span class=n>b</span><span class=p>;</span> <span class=n>id</span><span class=p>(</span><span class=n>a</span><span class=p>)</span> <span class=o>==</span> <span class=n>id</span><span class=p>(</span><span class=n>b</span><span class=p>)</span>
<span class=k>True</span>
<span class=k>False</span>
</pre></div> <p>What happened here? Even though the tuples look identical, they are actually different! This is because the list created for <code class=codehilite><span class=n>a</span></code> and the list created for <code class=codehilite><span class=n>b</span></code> are actually distinct, different objects as they are mutable. When we check <code class=codehilite><span class=n>a</span> <span class=o>==</span> <span class=n>b</span></code>, the <code class=codehilite><span class=n>__eq__</span></code> function is called recursively on all the members of the two tuples, thus showing they are equal, but the IDs of the two tuples are different because they were created with different list objects. If we instantiated them with the same list, they would have the same id. <code class=codehilite><span class=n>l</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>];</span> <span class=n>id</span><span class=p>(</span> <span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>l</span><span class=p>)</span> <span class=p>)</span> <span class=o>==</span> <span class=n>id</span><span class=p>(</span> <span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>l</span><span class=p>)</span> <span class=p>)</span></code> yeilds True.</p> <h2 id=type-casting-in-python>Type Casting In Python<a class=headerlink href=#type-casting-in-python title="Permanent link">&para;</a></h2> <p>One consequence of all of the object model is that Python really does not have "casting" in the traditional sense. When you convert a <code class=codehilite><span class=nb>int</span></code> to a <code class=codehilite><span class=nb>float</span></code> by running something along the lines of <code class=codehilite><span class=nb>float</span><span class=p>(</span><span class=n>n</span><span class=p>)</span></code>, a specific verison of the <code class=codehilite><span class=nb>float</span></code> constructor is actually called that takes in an argument. A new object is then created based off of the parameter. Thus, when you type cast, you are really just initializing a new object. </p> <h2 id=special-object-functions-and-operators>Special Object Functions and Operators<a class=headerlink href=#special-object-functions-and-operators title="Permanent link">&para;</a></h2> <p>In order to enable consistent usage across all of the different objects in Python, they all utilize the same special methods denoted with two underscores on either side <code class=codehilite><span class=n>__func__</span></code>. Overriding these objects in your own implementations can lead to neat and concise code for complex functions. They can be overriden by defining the <code class=codehilite><span class=n>__func__</span><span class=p>(</span><span class=n>self</span><span class=p>,</span><span class=w> </span><span class=o>[</span><span class=n>args</span><span class=o>]</span><span class=p>)</span><span class=w></span></code> function within an object. These functions are often refered to as "magic" functions. Ommited from this list are the getter and setter attributes discussed previously in this section and other attributes that are more specific to different types of data structures.</p> <table> <thead> <tr> <th>Attribute</th> <th>Built-In Accesor</th> <th>Descripton</th> </tr> </thead> <tbody> <tr> <td><code class=codehilite><span class=n>__new__</span></code></td> <td>N/A</td> <td>Called when creating a new instance of an object</td> </tr> <tr> <td><code class=codehilite><span class=n>__init__</span></code></td> <td>N/A</td> <td>Called when instantiating a new instance of an object, after <code class=codehilite><span class=n>__new__</span></code></td> </tr> <tr> <td><code class=codehilite><span class=n>__class__</span></code></td> <td><code class=codehilite><span class=k>type</span><span class=p>(</span><span class=n>obj</span><span class=p>)</span></code></td> <td>Returns the type of a given object.</td> </tr> <tr> <td><code class=codehilite><span class=n>__str__</span></code></td> <td>str(obj)</td> <td>Converts object to a string. This is called when printed.</td> </tr> <tr> <td><code class=codehilite><span class=n>__repr__</span></code></td> <td>repr(obj)</td> <td>Returns a representation of the object used in the python shell.</td> </tr> <tr> <td><code class=codehilite><span class=n>__doc__</span></code></td> <td>`help(obj)</td> <td>Gives documentation for the given type.</td> </tr> <tr> <td><code class=codehilite><span class=n>__hash__</span></code></td> <td><code class=codehilite><span class=n>hash</span><span class=p>(</span><span class=n>obj</span><span class=p>)</span></code></td> <td>Custom hash function for the object.</td> </tr> <tr> <td><code class=codehilite><span class=n>__get__</span></code></td> <td>N/A</td> <td>Invoked every time an object is accessed. Used by function objects to make them callable. Similar definition for <code class=codehilite><span class=n>__set__</span></code></td> </tr> <tr> <td><code class=codehilite><span class=n>__eq__</span></code></td> <td><code class=codehilite><span class=o>==</span></code></td> <td>Provides comparison binary operator. Other comaprison operators are <code class=codehilite><span class=n>__lt__</span></code>, <code class=codehilite><span class=n>__le__</span></code>, <code class=codehilite><span class=n>__ne__</span></code>, <code class=codehilite><span class=n>__ge__</span></code>, <code class=codehilite><span class=n>__gt__</span></code></td> </tr> <tr> <td><code class=codehilite><span class=n>__add__</span></code></td> <td><code class=codehilite><span class=k>add</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>),</span> <span class=o>+</span></code></td> <td>Overrides math functionality. Others are <code class=codehilite><span class=n>__sub__</span></code>, <code class=codehilite><span class=n>__mul__</span></code>, <code class=codehilite><span class=n>__abs__</span></code>, <code class=codehilite><span class=n>__floordiv__</span></code>, <code class=codehilite><span class=n>__truediv__</span></code>, <code class=codehilite><span class=n>__pow__</span></code>, etc.</td> </tr> <tr> <td><code class=codehilite><span class=n>__getitem__</span></code></td> <td><code class=codehilite><span class=k>object</span><span class=o>[</span><span class=n>ind</span><span class=o>]</span><span class=w></span></code></td> <td>Returns value of an object at a certain index</td> </tr> <tr> <td><code class=codehilite><span class=n>__and__</span></code></td> <td><code class=codehilite><span class=k>and</span></code></td> <td>Returns logical and. Other logical operators are <code class=codehilite><span class=n>__or__</span></code>, <code class=codehilite><span class=n>__not__</span></code>, <code class=codehilite><span class=n>__xor__</span></code>, <code class=codehilite><span class=n>__lshift__</span></code>, etc.</td> </tr> <tr> <td><code class=codehilite><span class=n>__contains__</span></code></td> <td><code class=codehilite><span class=n>val</span> <span class=k>in</span> <span class=n>obj</span></code></td> <td>Checks to see if an object contains a value using <code class=codehilite><span class=k>in</span></code> keyword.</td> </tr> <tr> <td><code class=codehilite><span class=n>__next__</span></code></td> <td><code class=codehilite><span class=k>next</span><span class=ss>(</span><span class=nv>obj</span><span class=ss>)</span></code></td> <td>yeilds next value of an object</td> </tr> <tr> <td><code class=codehilite><span class=n>__yield__</span></code></td> <td><code class=codehilite><span class=nv>iter</span><span class=ss>(</span><span class=nv>obj</span><span class=ss>)</span>, <span class=k>for</span> <span class=nv>_</span> <span class=nv>in</span> <span class=nv>obj</span></code></td> <td>returns an iterator over the values of the object</td> </tr> </tbody> </table> <p>You can find more operator attributes at this link: <a href=https://docs.python.org/3/library/operator.html>https://docs.python.org/3/library/operator.html</a></p> <h2 id=sources-and-further-reading>Sources and Further Reading<a class=headerlink href=#sources-and-further-reading title="Permanent link">&para;</a></h2> <p><a href=https://docs.python.org/3.7/reference/datamodel.html>https://docs.python.org/3.7/reference/datamodel.html</a> <a href=https://docs.python.org/3/library/functions.html>https://docs.python.org/3/library/functions.html</a> <a href=https://docs.python.org/3/library/constants.html>https://docs.python.org/3/library/constants.html</a> <a href=https://docs.python.org/3/library/stdtypes.html>https://docs.python.org/3/library/stdtypes.html</a></p> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid"> <a href=../ title="0. About Python" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i> </div> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Previous </span> 0. About Python </span> </div> </a> <a href=../2syntax/ title="2. Syntax" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel=next> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Next </span> 2. Syntax </span> </div> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2019 Joey Hejna </div> powered by <a href=https://www.mkdocs.org>MkDocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ > Material for MkDocs</a> </div> <div class=md-footer-social> <link rel=stylesheet href=../../../assets/fonts/font-awesome.css> <a href=https://github.com/jhejna class="md-footer-social__link fa fa-github"></a> <a href=https://linkedin.com/in/jhejna class="md-footer-social__link fa fa-linkedin"></a> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/application.c648116f.js></script> <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>